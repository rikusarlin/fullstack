{"ast":null,"code":"import loginService from '../services/login';\nconst initialState = {\n  username: null,\n  user: null,\n  token: null\n};\nexport const login = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login(username, password);\n    dispatch({\n      type: 'LOGIN',\n      data: {\n        username: user.username,\n        user: JSON.stringify(user),\n        token: user.token\n      }\n    });\n  };\n};\nexport const logout = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGOUT',\n      data: initialState\n    });\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  console.log('state before action in loginReducer: ', state);\n  console.log('action in login Reducer', action);\n\n  switch (action.type) {\n    case 'LOGIN':\n      return action.data;\n\n    case 'LOGOUT':\n      return null;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/s015sir/git/fullstack/osa7/bloglist/src/reducers/loginReducer.js"],"names":["loginService","initialState","username","user","token","login","password","dispatch","type","data","JSON","stringify","logout","reducer","state","action","console","log"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,mBAAzB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,IADS;AAEnBC,EAAAA,IAAI,EAAE,IAFa;AAGnBC,EAAAA,KAAK,EAAE;AAHY,CAArB;AAMA,OAAO,MAAMC,KAAK,GAAG,CAACH,QAAD,EAAWI,QAAX,KAAwB;AAC3C,SAAO,MAAMC,QAAN,IAAkB;AACvB,UAAMJ,IAAI,GAAG,MAAMH,YAAY,CAACK,KAAb,CAAmBH,QAAnB,EAA6BI,QAA7B,CAAnB;AACAC,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,OADC;AAEPC,MAAAA,IAAI,EAAE;AACJP,QAAAA,QAAQ,EAAEC,IAAI,CAACD,QADX;AAEJC,QAAAA,IAAI,EAAEO,IAAI,CAACC,SAAL,CAAeR,IAAf,CAFF;AAGJC,QAAAA,KAAK,EAAED,IAAI,CAACC;AAHR;AAFC,KAAD,CAAR;AAQD,GAVD;AAWD,CAZM;AAcP,OAAO,MAAMQ,MAAM,GAAG,MAAM;AAC1B,SAAO,MAAML,QAAN,IAAkB;AACvBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,QADC;AAEPC,MAAAA,IAAI,EAAER;AAFC,KAAD,CAAR;AAID,GALD;AAMD,CAPM;;AASP,MAAMY,OAAO,GAAG,CAACC,KAAK,GAAGb,YAAT,EAAuBc,MAAvB,KAAkC;AAChDC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDH,KAArD;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,MAAvC;;AAEA,UAAOA,MAAM,CAACP,IAAd;AACE,SAAK,OAAL;AACE,aAAOO,MAAM,CAACN,IAAd;;AACF,SAAK,QAAL;AACE,aAAO,IAAP;;AACF;AACE,aAAOK,KAAP;AANJ;AAQD,CAZD;;AAcA,eAAeD,OAAf","sourcesContent":["import loginService from '../services/login'\n\nconst initialState = {\n  username: null,\n  user: null,\n  token: null\n}\n\nexport const login = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login(username, password)\n    dispatch({\n      type: 'LOGIN',\n      data: {\n        username: user.username,\n        user: JSON.stringify(user),\n        token: user.token\n      }\n    })\n  }\n}\n\nexport const logout = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGOUT',\n      data: initialState\n    })\n  }\n}\n\nconst reducer = (state = initialState, action) => {\n  console.log('state before action in loginReducer: ', state)\n  console.log('action in login Reducer', action)\n\n  switch(action.type) {\n    case 'LOGIN':\n      return action.data\n    case 'LOGOUT':\n      return null\n    default:\n      return state\n  }\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}
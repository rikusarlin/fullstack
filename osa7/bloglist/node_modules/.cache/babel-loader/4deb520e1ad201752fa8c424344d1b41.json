{"ast":null,"code":"import loginService from '../services/login';\nconst initialState = {\n  username: null,\n  name: null,\n  token: null\n};\nexport const login = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login({\n      username: username,\n      password: password\n    });\n    dispatch({\n      type: 'LOGIN',\n      data: {\n        username: user.username,\n        name: user.name,\n        token: user.token\n      }\n    });\n  };\n};\nexport const logout = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGOUT',\n      data: initialState\n    });\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  console.log('state before action in loginReducer: ', state);\n  console.log('action in login Reducer', action);\n\n  switch (action.type) {\n    case 'LOGIN':\n      return action.data;\n\n    case 'LOGOUT':\n      return initialState;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/s015sir/git/fullstack/osa7/bloglist/src/reducers/loginReducer.js"],"names":["loginService","initialState","username","name","token","login","password","dispatch","user","type","data","logout","reducer","state","action","console","log"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,mBAAzB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,IADS;AAEnBC,EAAAA,IAAI,EAAE,IAFa;AAGnBC,EAAAA,KAAK,EAAE;AAHY,CAArB;AAMA,OAAO,MAAMC,KAAK,GAAG,CAACH,QAAD,EAAWI,QAAX,KAAwB;AAC3C,SAAO,MAAMC,QAAN,IAAkB;AACvB,UAAMC,IAAI,GAAG,MAAMR,YAAY,CAACK,KAAb,CACjB;AAAEH,MAAAA,QAAQ,EAAEA,QAAZ;AACEI,MAAAA,QAAQ,EAAEA;AADZ,KADiB,CAAnB;AAGAC,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAE,OADC;AAEPC,MAAAA,IAAI,EAAE;AACJR,QAAAA,QAAQ,EAAEM,IAAI,CAACN,QADX;AAEJC,QAAAA,IAAI,EAAEK,IAAI,CAACL,IAFP;AAGJC,QAAAA,KAAK,EAAEI,IAAI,CAACJ;AAHR;AAFC,KAAD,CAAR;AAQD,GAZD;AAaD,CAdM;AAgBP,OAAO,MAAMO,MAAM,GAAG,MAAM;AAC1B,SAAO,MAAMJ,QAAN,IAAkB;AACvBA,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAE,QADC;AAEPC,MAAAA,IAAI,EAAET;AAFC,KAAD,CAAR;AAID,GALD;AAMD,CAPM;;AASP,MAAMW,OAAO,GAAG,CAACC,KAAK,GAAGZ,YAAT,EAAuBa,MAAvB,KAAkC;AAChDC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDH,KAArD;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,MAAvC;;AAEA,UAAOA,MAAM,CAACL,IAAd;AACE,SAAK,OAAL;AACE,aAAOK,MAAM,CAACJ,IAAd;;AACF,SAAK,QAAL;AACE,aAAOT,YAAP;;AACF;AACE,aAAOY,KAAP;AANJ;AAQD,CAZD;;AAcA,eAAeD,OAAf","sourcesContent":["import loginService from '../services/login'\n\nconst initialState = {\n  username: null,\n  name: null,\n  token: null\n}\n\nexport const login = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login(\n      { username: username,\n        password: password }) \n    dispatch({\n      type: 'LOGIN',\n      data: {\n        username: user.username,\n        name: user.name,\n        token: user.token\n      }\n    })\n  }\n}\n\nexport const logout = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGOUT',\n      data: initialState\n    })\n  }\n}\n\nconst reducer = (state = initialState, action) => {\n  console.log('state before action in loginReducer: ', state)\n  console.log('action in login Reducer', action)\n\n  switch(action.type) {\n    case 'LOGIN':\n      return action.data\n    case 'LOGOUT':\n      return initialState\n    default:\n      return state\n  }\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}
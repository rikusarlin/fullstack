{"ast":null,"code":"import _slicedToArray from \"/home/s015sir/git/fullstack/osa7/bloglist/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/s015sir/git/fullstack/osa7/bloglist/src/components/Blog.js\";\nimport React, { useState } from 'react';\n\nconst Blog = ({\n  id,\n  title,\n  author,\n  likes,\n  url,\n  user,\n  setBlogs,\n  setNotificationMessage,\n  setErrorMessage,\n  blogsService\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        opened = _useState2[0],\n        setOpened = _useState2[1];\n\n  const hideWhenOpened = {\n    display: opened ? 'none' : ''\n  };\n  const showWhenOpened = {\n    display: opened ? '' : 'none'\n  };\n\n  const toggleOpened = () => {\n    setOpened(!opened);\n  };\n\n  const handleLike = async event => {\n    event.preventDefault();\n\n    try {\n      const updatedBlog = {\n        id: id,\n        title: title,\n        author: author,\n        url: url,\n        likes: likes + 1\n      };\n      await blogsService.update(updatedBlog);\n      setBlogs((await blogsService.getAll()));\n      setNotificationMessage('liked a blog');\n      setTimeout(() => {\n        setNotificationMessage(null);\n      }, 3000);\n    } catch (exception) {\n      console.log('exception: ' + exception);\n      setErrorMessage('error in updating likes');\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 3000);\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await blogsService.deleteBlog(id);\n      setBlogs((await blogsService.getAll()));\n      setNotificationMessage('blog deleted');\n      setTimeout(() => {\n        setNotificationMessage(null);\n      }, 3000);\n    } catch (exception) {\n      console.log('exception: ' + exception);\n      setErrorMessage('error in deleting blog');\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 3000);\n    }\n  };\n\n  const confirmDelete = () => {\n    if (window.confirm(\"remove blog \" + title + \" by \" + author + \"?\")) {\n      handleDelete();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"blogItem\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: hideWhenOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"blogClosed\",\n    onClick: toggleOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \" > \", title, \" \", author)), React.createElement(\"div\", {\n    style: showWhenOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"blogOpened\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleLike,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: toggleOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \" < \", title, \" \", author), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), url, \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), likes, \" likes \", React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"like\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), \"added by \", user.name, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"deleteButton\",\n    type: \"button\",\n    onClick: confirmDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"delete\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }))))));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/home/s015sir/git/fullstack/osa7/bloglist/src/components/Blog.js"],"names":["React","useState","Blog","id","title","author","likes","url","user","setBlogs","setNotificationMessage","setErrorMessage","blogsService","opened","setOpened","hideWhenOpened","display","showWhenOpened","toggleOpened","handleLike","event","preventDefault","updatedBlog","update","getAll","setTimeout","exception","console","log","handleDelete","deleteBlog","confirmDelete","window","confirm","name"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\n\nconst Blog = ({id, title, author, likes, url, user,\n  setBlogs, setNotificationMessage, setErrorMessage, blogsService }) => {\n\n  const [opened, setOpened] = useState(false)\n  const hideWhenOpened = { display: opened ? 'none' : '' }\n  const showWhenOpened = { display: opened ? '' : 'none' }\n\n  const toggleOpened = () => {\n    setOpened(!opened)\n  }\n\n  const handleLike = async (event) => {\n    event.preventDefault()\n    \n    try {\n      const updatedBlog = {\n        id: id,\n        title: title,\n        author: author,\n        url: url,\n        likes: likes+1\n      }\n      await blogsService.update(updatedBlog)\n      setBlogs(await blogsService.getAll())\n      setNotificationMessage('liked a blog')\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 3000)\n    } catch (exception) {\n      console.log('exception: '+exception)\n      setErrorMessage('error in updating likes')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3000)\n    }\n  }\n\n  const handleDelete = async () => {    \n    try {\n      await blogsService.deleteBlog(id)\n      setBlogs(await blogsService.getAll())\n      setNotificationMessage('blog deleted')\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 3000)\n    } catch (exception) {\n      console.log('exception: '+exception)\n      setErrorMessage('error in deleting blog')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3000)\n    }\n  }\n\n  const confirmDelete = () => {\n    if(window.confirm(\"remove blog \"+title+\" by \"+author+\"?\")){\n      handleDelete()\n    }\n\n  }\n \n  return(\n    <div className=\"blogItem\">\n    <div style={hideWhenOpened}>\n      <div className=\"blogClosed\" onClick={toggleOpened}> &gt; {title} {author}</div>\n    </div>\n    <div style={showWhenOpened}>\n       <div className=\"blogOpened\">\n          <form onSubmit={handleLike}>\n            <div>\n              <div onClick={toggleOpened}> &lt; {title} {author}</div><br/>\n              {url} <br/>\n              {likes} likes <button type=\"submit\">like</button><br/>\n              added by {user.name}<br/>\n              <button className=\"deleteButton\" type=\"button\" onClick={confirmDelete}>delete</button><br/>\n            </div>\n          </form>\n        </div>\n    </div>\n  </div>\n)}\n\nexport default Blog"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"/home/s015sir/git/fullstack/osa7/bloglist/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/s015sir/git/fullstack/osa7/bloglist/src/components/Blog.js\";\nimport React, { useState } from 'react';\nimport { showInfo, showError } from '../reducers/notificationReducer';\n\nconst Blog = ({\n  id,\n  title,\n  author,\n  likes,\n  url,\n  user,\n  setBlogs,\n  blogsService\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        opened = _useState2[0],\n        setOpened = _useState2[1];\n\n  const hideWhenOpened = {\n    display: opened ? 'none' : ''\n  };\n  const showWhenOpened = {\n    display: opened ? '' : 'none'\n  };\n\n  const toggleOpened = () => {\n    setOpened(!opened);\n  };\n\n  const handleLike = async event => {\n    event.preventDefault();\n\n    try {\n      const updatedBlog = {\n        id: id,\n        title: title,\n        author: author,\n        url: url,\n        likes: likes + 1\n      };\n      await blogsService.update(updatedBlog);\n      setBlogs((await blogsService.getAll()));\n      showInfo('liked a blog', 3);\n    } catch (exception) {\n      console.log('exception: ' + exception);\n      showError('error in updating likes', 3);\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await blogsService.deleteBlog(id);\n      setBlogs((await blogsService.getAll()));\n      showInfo('blog deleted', 3);\n    } catch (exception) {\n      console.log('exception: ' + exception);\n      showError('error in deleting blog', 3);\n    }\n  };\n\n  const confirmDelete = () => {\n    if (window.confirm(\"remove blog \" + title + \" by \" + author + \"?\")) {\n      handleDelete();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"blogItem\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: hideWhenOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"blogClosed\",\n    onClick: toggleOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \" > \", title, \" \", author)), React.createElement(\"div\", {\n    style: showWhenOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"blogOpened\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleLike,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: toggleOpened,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \" < \", title, \" \", author), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), url, \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), likes, \" likes \", React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"like\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), \"added by \", user.name, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"deleteButton\",\n    type: \"button\",\n    onClick: confirmDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"delete\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }))))));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/home/s015sir/git/fullstack/osa7/bloglist/src/components/Blog.js"],"names":["React","useState","showInfo","showError","Blog","id","title","author","likes","url","user","setBlogs","blogsService","opened","setOpened","hideWhenOpened","display","showWhenOpened","toggleOpened","handleLike","event","preventDefault","updatedBlog","update","getAll","exception","console","log","handleDelete","deleteBlog","confirmDelete","window","confirm","name"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { showInfo, showError } from '../reducers/notificationReducer'\n\nconst Blog = ({id, title, author, likes, url, user,\n  setBlogs, blogsService }) => {\n\n  const [opened, setOpened] = useState(false)\n  const hideWhenOpened = { display: opened ? 'none' : '' }\n  const showWhenOpened = { display: opened ? '' : 'none' }\n\n  const toggleOpened = () => {\n    setOpened(!opened)\n  }\n\n  const handleLike = async (event) => {\n    event.preventDefault()\n    \n    try {\n      const updatedBlog = {\n        id: id,\n        title: title,\n        author: author,\n        url: url,\n        likes: likes+1\n      }\n      await blogsService.update(updatedBlog)\n      setBlogs(await blogsService.getAll())\n      showInfo('liked a blog', 3)\n    } catch (exception) {\n      console.log('exception: '+exception)\n      showError('error in updating likes', 3)\n    }\n  }\n\n  const handleDelete = async () => {    \n    try {\n      await blogsService.deleteBlog(id)\n      setBlogs(await blogsService.getAll())\n      showInfo('blog deleted', 3)\n    } catch (exception) {\n      console.log('exception: '+exception)\n      showError('error in deleting blog', 3)\n    }\n  }\n\n  const confirmDelete = () => {\n    if(window.confirm(\"remove blog \"+title+\" by \"+author+\"?\")){\n      handleDelete()\n    }\n\n  }\n \n  return(\n    <div className=\"blogItem\">\n    <div style={hideWhenOpened}>\n      <div className=\"blogClosed\" onClick={toggleOpened}> &gt; {title} {author}</div>\n    </div>\n    <div style={showWhenOpened}>\n       <div className=\"blogOpened\">\n          <form onSubmit={handleLike}>\n            <div>\n              <div onClick={toggleOpened}> &lt; {title} {author}</div><br/>\n              {url} <br/>\n              {likes} likes <button type=\"submit\">like</button><br/>\n              added by {user.name}<br/>\n              <button className=\"deleteButton\" type=\"button\" onClick={confirmDelete}>delete</button><br/>\n            </div>\n          </form>\n        </div>\n    </div>\n  </div>\n)}\n\nexport default Blog"]},"metadata":{},"sourceType":"module"}